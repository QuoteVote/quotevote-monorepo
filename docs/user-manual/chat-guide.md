# Chat System User Guide

This guide covers Quote.Vote's presence-aware chat system, including direct messaging, group chats, presence status, and all chat features.

## Table of Contents

1. [Overview](#overview)
2. [Getting Started with Chat](#getting-started-with-chat)
3. [Buddy List & Presence](#buddy-list--presence)
4. [Direct Messaging](#direct-messaging)
5. [Group Chat Rooms](#group-chat-rooms)
6. [Status & Away Messages](#status--away-messages)
7. [Typing Indicators](#typing-indicators)
8. [Read Receipts](#read-receipts)
9. [Managing Your Buddy List](#managing-your-buddy-list)
10. [Blocking & Safety](#blocking--safety)
11. [Chat Tips & Best Practices](#chat-tips--best-practices)
12. [Troubleshooting](#troubleshooting)

---

## Overview

Quote.Vote's chat system enables real-time conversations with:

- **Buddy List** - See your connections and their online status
- **Direct Messages** - Private one-on-one conversations
- **Group Chats** - Post-anchored group conversations
- **Presence Status** - Show when you're online, away, or busy
- **Away Messages** - Set custom status messages
- **Typing Indicators** - See when someone is typing
- **Read Receipts** - Know when your messages are read

---

## Getting Started with Chat

### Opening the Chat Panel

1. Click the **chat icon** (ðŸ’¬) in the navigation bar
2. The chat panel opens on the right side of your screen
3. You'll see two tabs:
   - **Buddies** - Your buddy list with presence status
   - **Chats** - Your active conversations

### Chat Interface Overview

The chat interface consists of:

- **Left Sidebar**: Buddy list or chat list
- **Main Area**: Active conversation with messages
- **Input Area**: Message composition box at the bottom
- **Status Bar**: Your current presence status at the top

---

## Buddy List & Presence

### Understanding Presence Status

Your buddies' presence is shown with colored indicators:

- ðŸŸ¢ **Online** - User is actively using Quote.Vote
- ðŸŸ¡ **Away** - User is away from their device
- ðŸ”´ **Do Not Disturb** - User doesn't want to be disturbed
- âš« **Invisible** - User is online but appears offline
- âšª **Offline** - User is not currently online

### Viewing Your Buddy List

1. Open the chat panel
2. Click the **"Buddies"** tab
3. Your buddies are grouped by presence status:
   - Online
   - Away
   - Do Not Disturb
   - Offline

### Buddy List Features

- **Unread Badges**: See unread message counts next to each buddy
- **Status Messages**: View custom away messages (e.g., "In a meeting")
- **Search**: Use the search box to find specific buddies
- **Click to Chat**: Click any buddy to start or continue a conversation

---

## Direct Messaging

### Starting a Direct Message

**Option 1: From Buddy List**
1. Open the chat panel
2. Click on a buddy from your buddy list
3. The conversation opens automatically

**Option 2: From User Profile**
1. Visit a user's profile page
2. Click **"Send Message"** or **"Message"** button
3. If you're not buddies, you'll need to add them first

### Mutual Acceptance Required

Before you can send direct messages:

1. **Add Buddy**: Send a buddy request to the user
2. **Wait for Acceptance**: The user must accept your request
3. **Start Messaging**: Once accepted, you can send messages

**Note**: Both users must accept the buddy relationship before direct messaging is enabled.

### Sending Messages

1. Open a conversation
2. Type your message in the input box at the bottom
3. Press **Enter** or click **"Send"**
4. Your message appears instantly in the conversation

### Message Features

- **Real-time Delivery**: Messages appear instantly
- **Read Receipts**: See when your messages are read (checkmarks)
- **Typing Indicators**: See when the other person is typing
- **Message History**: Scroll up to see previous messages

---

## Group Chat Rooms

### Post-Anchored Chat Rooms

Each post can have a **group chat room** for live discussion about that specific post.

### Joining a Post Chat Room

1. Open any post
2. Look for the **"Chat"** or **"Join Chat"** button
3. Click to open the chat room
4. Start participating immediately

### Group Chat Features

- **Auto-Join**: You're automatically added when you join
- **Multiple Participants**: See all participants in the room
- **Real-time Updates**: See new messages as they arrive
- **Message History**: Access previous messages
- **Typing Indicators**: See who's typing in the room

### Leaving a Chat Room

- Click the **"X"** or close button
- You can rejoin anytime
- Chat history is preserved

---

## Status & Away Messages

### Setting Your Status

1. Open the chat panel
2. Click the **status icon** (your presence indicator) at the top
3. Select your status:
   - **Online** - Available for chat
   - **Away** - Temporarily away
   - **Do Not Disturb** - Busy, don't disturb
   - **Invisible** - Online but appear offline

### Setting an Away Message

1. Open the status editor (click your status icon)
2. Select your status (e.g., "Away")
3. Enter a custom message in the **"Status Message"** field
4. Examples:
   - "In a meeting until 3 PM"
   - "Out for lunch"
   - "Working on a project"
5. Click **"Save"**

**Note**: Status messages are limited to 200 characters.

### Clearing Your Status Message

1. Open the status editor
2. Clear the status message field
3. Click **"Save"**

### Status Visibility

- **Online/Away/DND**: Visible to all your buddies
- **Invisible**: You appear offline to others (but can still chat)
- **Offline**: Automatically set when you're inactive for 2+ minutes

---

## Typing Indicators

### How Typing Indicators Work

When someone is typing in a conversation:

- You'll see **"X is typing..."** below the message input
- For group chats: **"2 people are typing..."** or **"N people are typing..."**
- The indicator disappears when they stop typing or send the message

### When You're Typing

- Your typing status is automatically broadcast to other participants
- It appears after 3 seconds of typing
- It clears automatically when you:
  - Send the message
  - Stop typing for 3 seconds
  - Close the conversation

**Note**: You won't see your own typing indicator.

---

## Read Receipts

### Understanding Read Receipts

Read receipts show when your messages have been read:

- **Single Checkmark (âœ“)**: Message sent
- **Double Checkmark (âœ“âœ“)**: Message delivered
- **Blue Checkmark (âœ“âœ“)**: Message read by recipient

### For Direct Messages

- You'll see read receipts on messages you send
- The checkmark turns blue when the other person reads your message
- Read receipts update in real-time

### For Group Chats

- Read receipts show if anyone in the group has read your message
- Multiple people can read the same message
- Each read is tracked individually

### Viewing Read Status

- Hover over the checkmark to see read details
- In group chats, see who has read your message
- Read receipts update automatically when conversations are opened

---

## Managing Your Buddy List

### Adding a Buddy

**Option 1: From User Profile**
1. Visit a user's profile page
2. Click **"Add Buddy"** or **"Send Buddy Request"**
3. The user will receive a notification

**Option 2: From Chat Search**
1. Open the chat panel
2. Use the search box to find users
3. Click **"Add Buddy"** next to the user's name

### Accepting Buddy Requests

1. Open the chat panel
2. Look for **pending requests** in your buddy list
3. Click **"Accept"** to accept the request
4. Once accepted, you can start messaging

### Declining Buddy Requests

1. Open the chat panel
2. Find the pending request
3. Click **"Decline"**
4. The request is removed

### Removing a Buddy

1. Open a conversation with the buddy
2. Click the **menu icon** (â‹®) or **settings**
3. Select **"Remove Buddy"**
4. Confirm the removal

**Note**: Removing a buddy ends the relationship, but chat history is preserved.

---

## Blocking & Safety

### Blocking a User

If someone is harassing you or violating community guidelines:

1. Open a conversation with the user
2. Click the **menu icon** (â‹®) or **settings**
3. Select **"Block User"**
4. Confirm the block

### What Happens When You Block Someone

- They cannot send you messages
- They cannot see your presence status (you appear offline)
- They cannot see your typing indicators
- You won't see their messages or presence
- Existing messages remain in history

### Unblocking a User

1. Open your buddy list
2. Find the blocked user (if visible)
3. Click **"Unblock"**
4. Confirm the unblock

**Note**: After unblocking, you may need to re-add them as a buddy to message again.

### Reporting Issues

If you encounter harassment or inappropriate behavior:

1. Block the user immediately
2. Report the issue to moderators
3. Provide screenshots if possible
4. Quote.Vote's moderation team will review

---

## Chat Tips & Best Practices

### Best Practices

**Be Respectful**
- Keep conversations civil and constructive
- Avoid personal attacks or harassment
- Respect others' time and boundaries

**Use Status Messages**
- Set your status to "Away" or "Do Not Disturb" when busy
- Use away messages to let people know when you'll be back
- Update your status regularly

**Group Chat Etiquette**
- Stay on topic (especially in post-anchored rooms)
- Avoid spam or repetitive messages
- Use reactions instead of "+1" messages
- Don't @mention excessively

**Privacy Considerations**
- Remember that group chats are visible to all participants
- Direct messages are private between two users
- Your presence status is visible to your buddies
- Use "Invisible" mode if you want privacy

### Keyboard Shortcuts

- **Enter**: Send message
- **Shift + Enter**: New line in message
- **Escape**: Close chat panel (if supported)

### Message Limits

- **Rate Limiting**: 10 messages per minute to prevent spam
- **Status Messages**: Maximum 200 characters
- **Message Length**: No hard limit, but keep messages reasonable

---

## Troubleshooting

### Chat Won't Open

**Solutions:**
1. Refresh the page
2. Check your internet connection
3. Try logging out and back in
4. Clear your browser cache
5. Contact support if the issue persists

### Messages Not Sending

**Possible Causes:**
- Rate limit exceeded (wait 1 minute)
- User has blocked you
- Buddy request not accepted
- Network connectivity issues

**Solutions:**
1. Wait a minute and try again
2. Check if the user has accepted your buddy request
3. Verify your internet connection
4. Try refreshing the page

### Presence Status Not Updating

**Solutions:**
1. Check your internet connection
2. Refresh the page
3. Manually update your status
4. Wait a few seconds for updates to propagate

### Typing Indicator Not Showing

**Solutions:**
1. Make sure you're typing in the message input
2. Wait 3 seconds for the indicator to appear
3. Check your internet connection
4. Refresh the page if it persists

### Read Receipts Not Updating

**Solutions:**
1. Make sure the other person has opened the conversation
2. Wait a few seconds for updates
3. Refresh the conversation
4. Check your internet connection

### Can't Add Buddy

**Possible Causes:**
- User has blocked you
- You've already sent a request
- User doesn't exist

**Solutions:**
1. Check if you've already sent a request
2. Verify the username is correct
3. Wait for the user to accept your request
4. Contact support if issues persist

### Buddy List Not Loading

**Solutions:**
1. Refresh the page
2. Check your internet connection
3. Try logging out and back in
4. Clear your browser cache
5. Contact support if the issue persists

---

## Additional Resources

- [Main User Manual](./README.md) - Complete Quote.Vote user guide
- [Safety & Moderation](./README.md#safety--moderation) - Community guidelines
- [Troubleshooting](./README.md#troubleshooting--faq) - General troubleshooting

---

**Need Help?** If you're experiencing issues not covered here, please contact Quote.Vote support or check the [main troubleshooting guide](./README.md#troubleshooting--faq).

**Last Updated:** 2024

